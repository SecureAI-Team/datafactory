server {
  listen 80;
  server_name _;
  resolver 127.0.0.11 ipv6=off valid=10s;

  location /api/ { proxy_pass http://api:8000/; }
  location /chat/ { proxy_pass http://open-webui:8080/; auth_basic "Restricted"; auth_basic_user_file /etc/nginx/conf.d/.htpasswd; }
  location /portal/ { proxy_pass http://budibase:10000/; }
  location /airflow/ { proxy_pass http://airflow:8080/; }
  location /langfuse/ { proxy_pass http://langfuse:3000/; }
  location /openmetadata/ { proxy_pass http://openmetadata:8585/; }
  location /dq-docs/ { alias /usr/share/nginx/html/dq-docs/; }
  location /opensearch/ { proxy_pass http://opensearch:9200/; }
  location /minio/ { proxy_pass http://minio:9001/; }
  location /n8n/ { proxy_pass http://n8n:5678/; }
}
